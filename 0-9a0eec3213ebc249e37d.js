(window.webpackJsonp=window.webpackJsonp||[]).push([[0,6],{147:function(t,e,i){"use strict";var a=i(8);e.__esModule=!0,e.withPrefix=h,e.navigateTo=e.replace=e.push=e.navigate=e.default=void 0;var n=a(i(150)),r=a(i(154)),s=a(i(7)),o=a(i(51)),l=a(i(52)),u=a(i(4)),d=a(i(0)),c=i(23),f=i(151);function h(t){return function(t){return t.replace(/\/+/g,"/")}("/"+t)}var p={activeClassName:u.default.string,activeStyle:u.default.object},g=function(t){function e(e){var i;i=t.call(this,e)||this,(0,l.default)((0,o.default)((0,o.default)(i)),"defaultGetProps",function(t){return t.isCurrent?{className:[i.props.className,i.props.activeClassName].filter(Boolean).join(" "),style:(0,r.default)({},i.props.style,i.props.activeStyle)}:null});var a=!1;return"undefined"!=typeof window&&window.IntersectionObserver&&(a=!0),i.state={IOSupported:a},i.handleRef=i.handleRef.bind((0,o.default)((0,o.default)(i))),i}(0,s.default)(e,t);var i=e.prototype;return i.componentDidUpdate=function(t,e){this.props.to===t.to||this.state.IOSupported||___loader.enqueue((0,f.parsePath)(this.props.to).pathname)},i.componentDidMount=function(){this.state.IOSupported||___loader.enqueue((0,f.parsePath)(this.props.to).pathname)},i.handleRef=function(t){var e,i,a,n=this;this.props.innerRef&&this.props.innerRef(t),this.state.IOSupported&&t&&(e=t,i=function(){___loader.enqueue((0,f.parsePath)(n.props.to).pathname)},(a=new window.IntersectionObserver(function(t){t.forEach(function(t){e===t.target&&(t.isIntersecting||t.intersectionRatio>0)&&(a.unobserve(e),a.disconnect(),i())})})).observe(e))},i.render=function(){var t=this,e=this.props,i=e.to,a=e.getProps,s=void 0===a?this.defaultGetProps:a,o=e.onClick,l=e.onMouseEnter,u=(e.activeClassName,e.activeStyle,e.innerRef,e.state),p=e.replace,g=(0,n.default)(e,["to","getProps","onClick","onMouseEnter","activeClassName","activeStyle","innerRef","state","replace"]);var m=h(i);return d.default.createElement(c.Link,(0,r.default)({to:m,state:u,getProps:s,innerRef:this.handleRef,onMouseEnter:function(t){l&&l(t),___loader.hovering((0,f.parsePath)(i).pathname)},onClick:function(e){return o&&o(e),0!==e.button||t.props.target||e.defaultPrevented||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),y(i,{state:u,replace:p})),!0}},g))},e}(d.default.Component);g.propTypes=(0,r.default)({},p,{innerRef:u.default.func,onClick:u.default.func,to:u.default.string.isRequired,replace:u.default.bool});var m=d.default.forwardRef(function(t,e){return d.default.createElement(g,(0,r.default)({innerRef:e},t))});e.default=m;var y=function(t,e){window.___navigate(h(t),e)};e.navigate=y;var v=function(t){console.warn('The "push" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),window.___push(h(t))};e.push=v;e.replace=function(t){console.warn('The "replace" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),window.___replace(h(t))};e.navigateTo=function(t){return console.warn('The "navigateTo" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),v(t)}},149:function(t,e,i){"use strict";var a=i(8);e.__esModule=!0,e.default=void 0;var n,r=a(i(7)),s=a(i(51)),o=a(i(150)),l=a(i(154)),u=a(i(0)),d=a(i(4)),c=function(t){var e=(0,l.default)({},t);return e.resolutions&&(e.fixed=e.resolutions,delete e.resolutions),e.sizes&&(e.fluid=e.sizes,delete e.sizes),e},f={},h=function(t){var e=c(t),i=e.fluid?e.fluid.src:e.fixed.src;return f[i]||!1},p=[];var g=function(t,e){(void 0===n&&"undefined"!=typeof window&&window.IntersectionObserver&&(n=new window.IntersectionObserver(function(t){t.forEach(function(t){p.forEach(function(e){e[0]===t.target&&(t.isIntersecting||t.intersectionRatio>0)&&(n.unobserve(e[0]),e[1]())})})},{rootMargin:"200px"})),n).observe(t),p.push([t,e])},m=function(t){var e=t.src?'src="'+t.src+'" ':'src="" ',i=t.sizes?'sizes="'+t.sizes+'" ':"",a=t.srcSetWebp?"<source type='image/webp' srcSet=\""+t.srcSetWebp+'" '+i+"/>":"",n=t.srcSet?'<source srcSet="'+t.srcSet+'" '+i+"/>":"",r=t.title?'title="'+t.title+'" ':"",s=t.alt?'alt="'+t.alt+'" ':'alt="" ',o=t.width?'width="'+t.width+'" ':"",l=t.height?'height="'+t.height+'" ':"",u=t.opacity?t.opacity:"1";return"<picture>"+a+n+"<img "+o+l+e+s+r+'style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:'+(t.transitionDelay?t.transitionDelay:"0.5s")+";opacity:"+u+';width:100%;height:100%;object-fit:cover;object-position:center"/></picture>'},y=u.default.forwardRef(function(t,e){var i=t.style,a=t.onLoad,n=t.onError,r=(0,o.default)(t,["style","onLoad","onError"]);return u.default.createElement("img",(0,l.default)({},r,{onLoad:a,onError:n,ref:e,style:(0,l.default)({position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"},i)}))});y.propTypes={style:d.default.object,onError:d.default.func,onLoad:d.default.func};var v=function(t){function e(e){var i;i=t.call(this,e)||this;var a=!0,n=!1,r=e.fadeIn,o=h(e);!o&&"undefined"!=typeof window&&window.IntersectionObserver&&(a=!1,n=!0),"undefined"==typeof window&&(a=!1),e.critical&&(a=!0,n=!1);var l=!(i.props.critical&&!i.props.fadeIn);return i.state={isVisible:a,imgLoaded:!1,IOSupported:n,fadeIn:r,hasNoScript:l,seenBefore:o},i.imageRef=u.default.createRef(),i.handleImageLoaded=i.handleImageLoaded.bind((0,s.default)((0,s.default)(i))),i.handleRef=i.handleRef.bind((0,s.default)((0,s.default)(i))),i}(0,r.default)(e,t);var i=e.prototype;return i.componentDidMount=function(){if(this.state.isVisible&&"function"==typeof this.props.onStartLoad&&this.props.onStartLoad({wasCached:h(this.props)}),this.props.critical){var t=this.imageRef.current;t&&t.complete&&this.handleImageLoaded()}},i.handleRef=function(t){var e=this;this.state.IOSupported&&t&&g(t,function(){var t=h(e.props);e.state.isVisible||"function"!=typeof e.props.onStartLoad||e.props.onStartLoad({wasCached:t}),e.setState({isVisible:!0,imgLoaded:t})})},i.handleImageLoaded=function(){var t,e,i;t=this.props,e=c(t),i=e.fluid?e.fluid.src:e.fixed.src,f[i]=!0,this.setState({imgLoaded:!0}),this.state.seenBefore&&this.setState({fadeIn:!1}),this.props.onLoad&&this.props.onLoad()},i.render=function(){var t=c(this.props),e=t.title,i=t.alt,a=t.className,n=t.style,r=void 0===n?{}:n,s=t.imgStyle,o=void 0===s?{}:s,d=t.placeholderStyle,f=void 0===d?{}:d,h=t.placeholderClassName,p=t.fluid,g=t.fixed,v=t.backgroundColor,b=t.Tag,w=t.itemProp,S="boolean"==typeof v?"lightgray":v,V=(0,l.default)({opacity:this.state.imgLoaded?0:1,transition:"opacity 0.5s",transitionDelay:this.state.imgLoaded?"0.5s":"0.25s"},o,f),E=(0,l.default)({opacity:this.state.imgLoaded||!1===this.state.fadeIn?1:0,transition:!0===this.state.fadeIn?"opacity 0.5s":"none"},o),O={title:e,alt:this.state.isVisible?"":i,style:V,className:h};if(p){var j=p;return u.default.createElement(b,{className:(a||"")+" gatsby-image-wrapper",style:(0,l.default)({position:"relative",overflow:"hidden"},r),ref:this.handleRef,key:"fluid-"+JSON.stringify(j.srcSet)},u.default.createElement(b,{style:{width:"100%",paddingBottom:100/j.aspectRatio+"%"}}),j.base64&&u.default.createElement(y,(0,l.default)({src:j.base64},O)),j.tracedSVG&&u.default.createElement(y,(0,l.default)({src:j.tracedSVG},O)),S&&u.default.createElement(b,{title:e,style:{backgroundColor:S,position:"absolute",top:0,bottom:0,opacity:this.state.imgLoaded?0:1,transitionDelay:"0.35s",right:0,left:0}}),this.state.isVisible&&u.default.createElement("picture",null,j.srcSetWebp&&u.default.createElement("source",{type:"image/webp",srcSet:j.srcSetWebp,sizes:j.sizes}),u.default.createElement("source",{srcSet:j.srcSet,sizes:j.sizes}),u.default.createElement(y,{alt:i,title:e,src:j.src,style:E,ref:this.imageRef,onLoad:this.handleImageLoaded,onError:this.props.onError,itemProp:w})),this.state.hasNoScript&&u.default.createElement("noscript",{dangerouslySetInnerHTML:{__html:m((0,l.default)({alt:i,title:e},j))}}))}if(g){var R=g,C=(0,l.default)({position:"relative",overflow:"hidden",display:"inline-block",width:R.width,height:R.height},r);return"inherit"===r.display&&delete C.display,u.default.createElement(b,{className:(a||"")+" gatsby-image-wrapper",style:C,ref:this.handleRef,key:"fixed-"+JSON.stringify(R.srcSet)},R.base64&&u.default.createElement(y,(0,l.default)({src:R.base64},O)),R.tracedSVG&&u.default.createElement(y,(0,l.default)({src:R.tracedSVG},O)),S&&u.default.createElement(b,{title:e,style:{backgroundColor:S,width:R.width,opacity:this.state.imgLoaded?0:1,transitionDelay:"0.25s",height:R.height}}),this.state.isVisible&&u.default.createElement("picture",null,R.srcSetWebp&&u.default.createElement("source",{type:"image/webp",srcSet:R.srcSetWebp,sizes:R.sizes}),u.default.createElement("source",{srcSet:R.srcSet,sizes:R.sizes}),u.default.createElement(y,{alt:i,title:e,width:R.width,height:R.height,src:R.src,style:E,ref:this.imageRef,onLoad:this.handleImageLoaded,onError:this.props.onError,itemProp:w})),this.state.hasNoScript&&u.default.createElement("noscript",{dangerouslySetInnerHTML:{__html:m((0,l.default)({alt:i,title:e,width:R.width,height:R.height},R))}}))}return null},e}(u.default.Component);v.defaultProps={critical:!1,fadeIn:!0,alt:"",Tag:"div"};var b=d.default.shape({width:d.default.number.isRequired,height:d.default.number.isRequired,src:d.default.string.isRequired,srcSet:d.default.string.isRequired,base64:d.default.string,tracedSVG:d.default.string,srcWebp:d.default.string,srcSetWebp:d.default.string}),w=d.default.shape({aspectRatio:d.default.number.isRequired,src:d.default.string.isRequired,srcSet:d.default.string.isRequired,sizes:d.default.string.isRequired,base64:d.default.string,tracedSVG:d.default.string,srcWebp:d.default.string,srcSetWebp:d.default.string});v.propTypes={resolutions:b,sizes:w,fixed:b,fluid:w,fadeIn:d.default.bool,title:d.default.string,alt:d.default.string,className:d.default.oneOfType([d.default.string,d.default.object]),critical:d.default.bool,style:d.default.object,imgStyle:d.default.object,placeholderStyle:d.default.object,placeholderClassName:d.default.string,backgroundColor:d.default.oneOfType([d.default.string,d.default.bool]),onLoad:d.default.func,onError:d.default.func,onStartLoad:d.default.func,Tag:d.default.string,itemProp:d.default.string};var S=v;e.default=S},150:function(t,e){t.exports=function(t,e){if(null==t)return{};var i,a,n={},r=Object.keys(t);for(a=0;a<r.length;a++)i=r[a],e.indexOf(i)>=0||(n[i]=t[i]);return n}},152:function(t,e,i){"use strict";i(153)("fixed",function(t){return function(){return t(this,"tt","","")}})},153:function(t,e,i){var a=i(11),n=i(16),r=i(17),s=/"/g,o=function(t,e,i,a){var n=String(r(t)),o="<"+e;return""!==i&&(o+=" "+i+'="'+String(a).replace(s,"&quot;")+'"'),o+">"+n+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(o),a(a.P+a.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},154:function(t,e){function i(){return t.exports=i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},i.apply(this,arguments)}t.exports=i},157:function(t,e,i){var a=i(25).f,n=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in n||i(18)&&a(n,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},158:function(t,e,i){"use strict";i(153)("link",function(t){return function(e){return t(this,"a","href",e)}})},162:function(t,e,i){"use strict";function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}function n(t,e){if(null==t)return{};var i,a,n={},r=Object.keys(t);for(a=0;a<r.length;a++)i=r[a],e.indexOf(i)>=0||(n[i]=t[i]);return n}var r=i(0),s=i.n(r);i.d(e,"a",function(){return M}),i.d(e,"b",function(){return G});let o=void 0,l=[],u=t=>"undefined"!=typeof window&&window.requestAnimationFrame(t),d=void 0,c=()=>Date.now(),f=void 0,h=t=>t.current;const p=(t,e)=>o={fn:t,transform:e},g=t=>d=t;class m{attach(){}detach(){}getValue(){}getAnimatedValue(){return this.getValue()}addChild(t){}removeChild(t){}getChildren(){return[]}}const y=t=>Object.keys(t).map(e=>t[e]);class v extends m{constructor(){var t;super(...arguments),t=this,this.children=[],this.getChildren=(()=>this.children),this.getPayload=function(e){return void 0===e&&(e=void 0),void 0!==e&&t.payload?t.payload[e]:t.payload||t}}addChild(t){0===this.children.length&&this.attach(),this.children.push(t)}removeChild(t){const e=this.children.indexOf(t);this.children.splice(e,1),0===this.children.length&&this.detach()}}class b extends v{constructor(){super(...arguments),this.payload=[],this.getAnimatedValue=(()=>this.getValue()),this.attach=(()=>this.payload.forEach(t=>t instanceof m&&t.addChild(this))),this.detach=(()=>this.payload.forEach(t=>t instanceof m&&t.removeChild(this)))}}class w extends v{constructor(){super(...arguments),this.payload={},this.getAnimatedValue=(()=>this.getValue(!0)),this.attach=(()=>y(this.payload).forEach(t=>t instanceof m&&t.addChild(this))),this.detach=(()=>y(this.payload).forEach(t=>t instanceof m&&t.removeChild(this)))}getValue(t){void 0===t&&(t=!1);const e={};for(const i in this.payload){const a=this.payload[i];(!t||a instanceof m)&&(e[i]=a instanceof m?a[t?"getAnimatedValue":"getValue"]():a)}return e}}class S{static create(t,e,i){if("function"==typeof t)return t;if(Array.isArray(t))return S.create({range:t,output:e,extrapolate:i||"extend"});if(d&&"string"==typeof t.output[0])return d(t);let a=t,n=a.output,r=a.range||[0,1],s=a.easing||(t=>t),o="extend",l=a.map;void 0!==a.extrapolateLeft?o=a.extrapolateLeft:void 0!==a.extrapolate&&(o=a.extrapolate);let u="extend";return void 0!==a.extrapolateRight?u=a.extrapolateRight:void 0!==a.extrapolate&&(u=a.extrapolate),t=>{let e=function(t,e){for(var i=1;i<e.length-1&&!(e[i]>=t);++i);return i-1}(t,r);return function(t,e,i,a,n,r,s,o,l){let u=l?l(t):t;if(u<e){if("identity"===s)return u;"clamp"===s&&(u=e)}if(u>i){if("identity"===o)return u;"clamp"===o&&(u=i)}if(a===n)return a;if(e===i)return t<=e?a:n;e===-1/0?u=-u:i===1/0?u-=e:u=(u-e)/(i-e);u=r(u),a===-1/0?u=-u:n===1/0?u+=a:u=u*(n-a)+a;return u}(t,r[e],r[e+1],n[e],n[e+1],s,o,u,l)}}}class V extends b{constructor(t,e,i){super(),this.getValue=(()=>this.calc(...this.payload.map(t=>t.getValue()))),this.updateConfig=((t,e)=>this.calc=S.create(t,e)),this.interpolate=((t,e)=>new V(this,t,e)),this.payload=t instanceof b&&!t.updateConfig?t.payload:Array.isArray(t)?t:[t],this.calc=S.create(e,i)}}class E extends v{constructor(t){var e;super(),e=this,this.setValue=function(t,i){void 0===i&&(i=!0),e.value=t,i&&e.flush()},this.getValue=(()=>this.value),this.updateStyles=(()=>(function t(e,i){"function"==typeof e.update?i.add(e):e.getChildren().forEach(e=>t(e,i))})(this,this.animatedStyles)),this.updateValue=(t=>this.flush(this.value=t)),this.interpolate=((t,e)=>new V(this,t,e)),this.value=t,this.animatedStyles=new Set,this.done=!1,this.startPosition=t,this.lastPosition=t,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0}flush(){0===this.animatedStyles.size&&this.updateStyles(),this.animatedStyles.forEach(t=>t.update())}}class O extends b{constructor(t){var e;super(),e=this,this.setValue=function(t,i){void 0===i&&(i=!0),Array.isArray(t)?t.length===e.payload.length&&t.forEach((t,a)=>e.payload[a].setValue(t,i)):e.payload.forEach((a,n)=>e.payload[n].setValue(t,i))},this.getValue=(()=>this.payload.map(t=>t.getValue())),this.interpolate=((t,e)=>new V(this,t,e)),this.payload=t.map(t=>new E(t))}}let j=!1;const R=new Set,C=()=>{let t=c();for(let e of R){let i=!1;for(let a=0;a<e.configs.length;a++){let n,r,s=e.configs[a];for(let a=0;a<s.animatedValues.length;a++){let o=s.animatedValues[a];if(o.done)continue;let l=s.fromValues[a],u=s.toValues[a],d=o.lastPosition,c=u instanceof m,f=Array.isArray(s.initialVelocity)?s.initialVelocity[a]:s.initialVelocity;if(c&&(u=u.getValue()),s.immediate)o.updateValue(u),o.done=!0;else if("string"!=typeof l&&"string"!=typeof u){if(void 0!==s.duration)d=l+s.easing((t-o.startTime)/s.duration)*(u-l),n=t>=o.startTime+s.duration;else if(s.decay)d=l+f/(1-.998)*(1-Math.exp(-(1-.998)*(t-e.startTime))),(n=Math.abs(o.lastPosition-d)<.1)&&(u=d);else{r=void 0!==o.lastTime?o.lastTime:t,f=void 0!==o.lastVelocity?o.lastVelocity:s.initialVelocity,t>r+64&&(r=t);let e=Math.floor(t-r);for(let t=0;t<e;++t){d+=1*(f+=1*((-s.tension*(d-u)+-s.friction*f)/s.mass)/1e3)/1e3}let i=!(!s.clamp||0===s.tension)&&(l<u?d>u:d<u),a=Math.abs(f)<=s.precision,c=0===s.tension||Math.abs(u-d)<=s.precision;n=i||a&&c,o.lastVelocity=f,o.lastTime=t}c&&!s.toValues[a].done&&(n=!1),n?(o.value!==u&&(d=u),o.done=!0):i=!0,o.updateValue(d),o.lastPosition=d}else o.updateValue(u),o.done=!0}e.props.onFrame&&(e.values[s.name]=s.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),i||(R.delete(e),e.stop(!0))}R.size?u(C):j=!1},P=t=>{R.has(t)||(R.add(t),j||u(C),j=!0)},x={arr:Array.isArray,obj:t=>"[object Object]"===Object.prototype.toString.call(t),fun:t=>"function"==typeof t,str:t=>"string"==typeof t,num:t=>"number"==typeof t,und:t=>void 0===t,nul:t=>null===t,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(x.str(t)||x.num(t))return t===e;if(x.obj(t)&&x.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let i;for(i in t)if(!(i in e))return!1;for(i in e)if(t[i]!==e[i])return!1;return!x.und(i)||t===e}};function L(){const t=Object(r.useState)(!1)[1];return Object(r.useCallback)(()=>t(t=>!t),[])}function I(t,e){return x.und(t)||x.nul(t)?e:t}function T(t){return x.und(t)?[]:x.arr(t)?t:[t]}function q(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];return x.fun(t)?t(...i):t}function _(t){const e=function(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,n(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(t),i=Object.keys(t).reduce((i,n)=>x.und(e[n])?a({},i,{[n]:t[n]}):i,{});return a({to:e},i)}let k=0;class A{constructor(t){this.getValues=(()=>this.interpolations),this.id=k++,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],t&&this.update(t)}update(t){if(!t)return this;const e=_(t),i=e.delay,r=void 0===i?0:i,s=e.to,o=n(e,["delay","to"]);if(x.arr(s)||x.fun(s))this.queue.push(a({},o,{delay:r,to:s}));else if(s){let t={};Object.entries(s).forEach(e=>{let i=e[0];const n=a({to:{[i]:e[1]},delay:q(r,i)},o);n.delay?this.queue=[...this.queue,n]:t=a({},t,n,{to:a({},t.to,n.to)})}),Object.keys(t).length>0&&(this.queue=[...this.queue,t])}return this.queue=this.queue.sort((t,e)=>t.delay-e.delay),this.diff(o),this}start(t){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(t=>{let e=t.from,i=void 0===e?{}:e,n=t.to,r=void 0===n?{}:n;x.obj(i)&&(this.merged=a({},i,this.merged)),x.obj(r)&&(this.merged=a({},this.merged,r))});const e=this.local=++this.guid,i=this.localQueue=this.queue;this.queue=[],i.forEach((a,r)=>{let s=a.delay,o=n(a,["delay"]);const l=a=>{r===i.length-1&&e===this.guid&&a&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),t&&t()};let u=x.arr(o.to)||x.fun(o.to);s?setTimeout(()=>{e===this.guid&&(u?this.runAsync(o,l):this.diff(o).start(l))},s):u?this.runAsync(o,l):this.diff(o).start(l)})}else x.fun(t)&&this.listeners.push(t),this.props.onStart&&this.props.onStart(),P(this);return this}stop(t){return this.listeners.forEach(e=>e(t)),this.listeners=[],this}runAsync(t,e){var i=this;t.delay;let r=n(t,["delay"]);const s=this.local;let o=Promise.resolve();if(x.arr(r.to))for(let n=0;n<r.to.length;n++){const t=n,e=(r.to.length,a({},r,{to:r.to[t]}));x.arr(e.config)&&(e.config=e.config[t]),o=o.then(()=>{if(s===this.guid)return new Promise(t=>this.diff(_(e)).start(t))})}else if(x.fun(r.to)){let t=0,e=void 0;o=o.then(()=>r.to(i=>{const n=a({},r,_(i));if(x.arr(n.config)&&(n.config=n.config[t]),t++,s===this.guid)return e=new Promise(t=>this.diff(n).start(t))},function(t){return void 0===t&&(t=!0),i.stop(t)}).then(()=>e))}o.then(e)}diff(t){this.props=a({},this.props,t);let e=this.props,i=e.from,n=void 0===i?{}:i,r=e.to,s=void 0===r?{}:r,o=e.config,u=void 0===o?{}:o,f=e.reverse,h=e.attach,p=e.reset,g=e.immediate;e.ref;if(f){var m=[s,n];n=m[0],s=m[1]}this.merged=a({},n,this.merged,s),this.hasChanged=!1;let y=h&&h(this);if(this.animations=Object.entries(this.merged).reduce((t,e,i)=>{let r=e[0],s=e[1],o=t[r]||{};const f=x.num(s),h=x.str(s)&&!s.startsWith("#")&&!/\d/.test(s)&&!l[s],m=x.arr(s),v=!f&&!m&&!h;let b=x.und(n[r])?s:n[r],w=f||m?s:h?s:1,S=q(u,r);y&&(w=y.animations[r].parent);let V,j=o.parent,R=o.interpolation,C=T(y?w.getPayload():w),P=s;v&&(P=d({range:[0,1],output:[s,s]})(1));let L=R&&R.getValue();const _=!x.und(j)&&o.animatedValues.some(t=>!t.done),k=!x.equ(P,L),A=!x.equ(P,o.previous),z=!x.equ(S,o.config);if(p||A&&k||z){if(f||h)j=R=o.parent||new E(b);else if(m)j=R=o.parent||new O(b);else if(v){let t=o.interpolation&&o.interpolation.calc(o.parent.value);t=void 0===t||p?b:t,o.parent?(j=o.parent).setValue(0,!1):j=new E(0);const e={output:[t,s]};o.interpolation?(R=o.interpolation,o.interpolation.updateConfig(e)):R=j.interpolate(e)}return C=T(y?w.getPayload():w),V=T(j.getPayload()),p&&!v&&j.setValue(b,!1),this.hasChanged=!0,V.forEach(t=>{t.startPosition=t.value,t.lastPosition=t.value,t.lastVelocity=_?t.lastVelocity:void 0,t.lastTime=_?t.lastTime:void 0,t.startTime=c(),t.done=!1,t.animatedStyles.clear()}),q(g,r)&&j.setValue(s,!1),a({},t,{[r]:a({},o,{name:r,parent:j,interpolation:R,animatedValues:V,toValues:C,previous:P,config:S,fromValues:T(j.getValue()),immediate:q(g,r),initialVelocity:I(S.velocity,0),clamp:I(S.clamp,!1),precision:I(S.precision,.01),tension:I(S.tension,170),friction:I(S.friction,26),mass:I(S.mass,1),duration:S.duration,easing:I(S.easing,t=>t),decay:S.decay})})}return k?t:(v&&(j.setValue(1,!1),R.updateConfig({output:[P,P]})),j.done=!0,this.hasChanged=!0,a({},t,{[r]:a({},t[r],{previous:P})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let t in this.animations)this.interpolations[t]=this.animations[t].interpolation,this.values[t]=this.animations[t].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}class z extends w{constructor(t,e){super(),t.style&&(t=a({},t,{style:f(t.style)})),this.payload=t,this.update=e,this.attach()}}function M(t){return Object(r.forwardRef)((e,i)=>{const l=L(),u=Object(r.useRef)(!0),d=Object(r.useRef)(),c=Object(r.useRef)(),f=Object(r.useCallback)((t,e)=>{const i=d.current;d.current=new z(t,()=>{c.current&&!1===o.fn(c.current,d.current.getAnimatedValue())&&l()}),i&&i.detach()},[]);Object(r.useEffect)(()=>()=>{u.current=!1,d.current&&d.current.detach()},[]),Object(r.useImperativeHandle)(i,()=>h(c,u,l)),f(e);const p=d.current.getValue(),g=(p.scrolTop,p.scrollLeft,n(p,["scrolTop","scrollLeft"]));return s.a.createElement(t,a({},g,{ref:t=>c.current=function(t,e){return e&&(x.fun(e)?e(t):x.obj(e)&&(e.current=t)),t}(t,i)}))})}const N=(t,e)=>{const i=Object(r.useRef)(!1),a=Object(r.useRef)(),n=x.fun(e),s=Object(r.useMemo)(()=>{let i;return a.current&&(a.current.map(t=>t.destroy()),a.current=void 0),[new Array(t).fill().map((t,a)=>{const r=new A,s=n?q(e,a,r):e[a];return 0===a&&(i=s.ref),r.update(s),i||r.start(),r}),i]},[t]),o=s[0],l=s[1];a.current=o;Object(r.useImperativeHandle)(l,()=>({start:()=>Promise.all(a.current.map(t=>new Promise(e=>t.start(e)))),stop:t=>a.current.forEach(e=>e.stop(t)),get controllers(){return a.current}}));const u=Object(r.useMemo)(()=>t=>a.current.map((e,i)=>{e.update(n?q(t,i,e):t[i]),l||e.start()}),[t]);Object(r.useEffect)(()=>{i.current?n||u(e):l||a.current.forEach(t=>t.start())}),Object(r.useEffect)(()=>(i.current=!0,()=>a.current.forEach(t=>t.destroy())),[]);const d=a.current.map(t=>t.getValues());return n?[d,u,()=>a.current.forEach(t=>t.stop())]:d},G=t=>{const e=x.fun(t),i=N(1,e?t:[t]),a=i[0],n=i[1],r=i[2];return e?[a[0],n,r]:a};const W=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;g(function(t){const e=t.output,i=e[0].match(W).map(()=>[]);e.forEach(t=>{t.match(W).forEach((t,e)=>i[e].push(+t))});const n=e[0].match(W).map((e,n)=>Interpolation.create(a({},t,{output:i[n]})));return t=>{let i=0;return e[0].replace(W,()=>n[i++](t))}}),p(()=>!1,t=>t)}}]);
//# sourceMappingURL=0-9a0eec3213ebc249e37d.js.map